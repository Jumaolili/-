<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
    <button id="fade-btn">淡出</button>
</body>
<script>
    var btn = document.querySelector("button");
    var div = document.querySelector("div");
    var num = 1;
    var timer = null;
    function fade() {
        btn.disabled = true;
        div.style.opacity = num;
        num = num - 0.1;
        if (num < 0) {
            clearInterval(timer);
            btn.disabled = false;
            num = 0;
            btn.innerHTML = "淡入";
            btn.onclick = function () {
                timer = setInterval(show, 100);
            }
        }
    }
    function show() {
        btn.disabled = true;
        div.style.opacity = num;
        num = num + 0.1;
        if (num > 1) {
            clearInterval(timer);
            btn.disabled = false;
            num = 1;
            btn.innerHTML = "淡出";
            btn.onclick = function () {
                timer = setInterval(fade, 100);
            }
        }
    }
    btn.onclick = function () {
        timer = setInterval(fade, 100);
    }


</script>
</html>